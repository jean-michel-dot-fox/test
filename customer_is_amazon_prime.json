{
  "industryType": "ecom",
  "tableName": "customer_is_amazon_prime",
  "query": {
    "select": [
      {
        "table": "orders",
        "fields": [
          {
            "name": "id_order"
          },
          {
            "name": "order_datetime"
          },
          {
            "name": "order_total_paid"
          },
          {
            "name": "order_option_3"
          },
          {
            "name": "order_delivery_fee"
          },
          {
            "name": "order_created_at"
          },
          {
            "name": "order_foxid"
          },
          {
            "name": "order_tip"
          }
        ]
      },
      {
        "table": "order_items",
        "fields": [
          {
            "name": "id_order_item"
          },
          {
            "name": "order_item_delivery_address_city"
          },
          {
            "name": "order_item_delivery_address_country_code"
          },
          {
            "name": "order_item_delivery_address_region"
          },
          {
            "name": "order_item_delivery_address_zipcode"
          },
          {
            "name": "order_item_total_price_paid"
          }
        ]
      },
      {
        "table": "products",
        "fields": [
          {
            "name": "id_product"
          },
          {
            "name": "product_name"
          }
        ]
      },
      {
        "table": "customers",
        "fields": [
          {
            "name": "id_customer"
          },
          {
            "name": "customer_birth_year"
          },
          {
            "name": "customer_gender"
          },
          {
            "name": "customer_hash"
          },
          {
            "name": "customer_region"
          },
          {
            "name": "provider"
          },
          {
            "name": "customer_created_at"
          },
          {
            "name": "customer_last_update"
          },
          {
            "name": "customer_last_upgrade"
          },
          {
            "name": "customer_last_export"
          },
          {
            "name": "is_email_remover"
          }
        ]
      }
    ],
    "where": [
      {
        "table": "parsers",
        "fields": [
          {
            "name": "merchant_name",
            "conditions": [
              {
                "operator": "IN",
                "values": [
                  "amazon"
                ]
              }
            ]
          },
          {
            "name": "parser_name",
            "conditions": [
              {
                "operator": "LIKE",
                "values": [
                  "%amazon%"
                ]
              }
            ]
          }
        ]
      },
      {
        "table": "orders",
        "fields": [
          {
            "name": "order_is_duplicate",
            "conditions": [
              {
                "operator": "NOT IN",
                "values": [
                  "1"
                ]
              }
            ]
          },
          {
            "name": "order_is_trash",
            "conditions": [
              {
                "operator": "NOT IN",
                "values": [
                  "1"
                ]
              }
            ]
          },
          {
            "name": "order_is_spam",
            "conditions": [
              {
                "operator": "NOT IN",
                "values": [
                  "1"
                ]
              }
            ]
          },
          {
            "name": "order_currency",
            "conditions": [
              {
                "operator": "IN",
                "values": [
                  "eur",
                  "EUR"
                ]
              }
            ]
          },
          {
            "name": "order_is_moved_duplicate",
            "conditions": [
              {
                "operator": "NOT IN",
                "values": [
                  "1"
                ]
              }
            ]
          }
        ]
      }
    ],
    "addOnWhere": ""
  },
  "modules": [
    {
      "name": "customerGender"
    },
    {
      "name": "customerFoxbrainReady",
      "parameters": {
        "deltaInDays": 5
      }
    },
    {
      "name": "categories",
      "parameters": [
        {
          "name": "authorizedCategories"
        },
        {
          "name": "concatenateCategory0And1"
        },
        {
          "name": "concatenateDefaultProductName",
          "parameters": {
            "table": "order_items",
            "fields": [
              {
                "name": "order_item_price_per_unit"
              }
            ],
            "intervals": [
              0,
              15,
              30,
              50,
              100,
              200,
              500
            ]
          }
        }
      ]
    },
    {
      "name": "customerAgeRange"
    },
    {
      "name": "cleanPromo"
    },
    {
      "name": "cleanFields"
    },
    {
      "name": "isGoogleProvider"
    },
    {
      "name": "rankPerUser"
    },
    {
      "name": "rankPerUserPerMerchant"
    },
    {
      "name": "ventilateOrderTotalPaid"
    },
    {
      "name": "idFlatTableOrderDatetime"
    },
    {
      "name": "isWeekDay"
    },
    {
      "name": "isWeekend"
    },
    {
      "name": "weekDay"
    },
    {
      "name": "geolocationBusinessRulesOrderItems"
    },
    {
      "name": "ponderation",
      "parameters": {
        "fieldName": "coeff_with_merch_food_cab_7_clusters"
      }
    },
    {
      "name": "contributions"
    },
    {
      "name": "hourRange",
      "parameters": [
        {
          "table": "orders",
          "fields": [
            {
              "name": "order_datetime"
            }
          ],
          "intervals": [
            0,
            4,
            11,
            15,
            18,
            23
          ]
        }
      ]
    },
    {
      "name": "priceRange",
      "parameters": [
        {
          "table": "orders",
          "fields": [
            {
              "name": "order_total_paid"
            }
          ],
          "intervals": [
            0,
            15,
            30,
            50,
            100,
            200,
            500
          ]
        }
      ]
    },
    {
      "name": "cohorts",
      "parameters": {
        "years": [
          2017,
          2018,
          2019
        ],
        "merchants": [
          "cote sushi",
          "deliveroo",
          "dominos",
          "foodcheri",
          "foodora",
          "frichti",
          "glovo",
          "pizza hut",
          "planet sushi",
          "popchef",
          "restoin",
          "speed rabbit pizza",
          "sushishop",
          "takeeateasy",
          "uber eats",
          "just eat",
          "fetch",
          "nestor",
          "mcdonalds"
        ]
      }
    },
    {
      "name": "loyalty",
      "parameters": {
        "merchants": [
          "amazon"
        ]
      }
    },
    {
      "name": "marketplace",
      "parameters": {
        "merchants": [
          "amazon",
          "back market",
          "boulanger",
          "cdiscount",
          "conforama",
          "darty",
          "la redoute",
          "rue du commerce",
          "priceminister",
          "fnac",
          "manomano",
          "vente privee",
          "wish"
        ]
      }
    },
    {
      "name": "merchantType",
      "parameters": {
        "merchants": [
          "amazon"
        ]
      }
    }
  ],
  "userQueries": []
}